<div class="week-calendar-container">
  <!-- 14-Day Vertical Scroll -->
  <div class="days-scroll-container" #scrollContainer>
    <div class="days-scroll-content">
      <div 
        *ngFor="let day of allDays; let i = index" 
        class="day-card"
        [class.today]="isToday(day.date)"
        [class.weekend]="day.isWeekend">
        
        <div class="day-row">
          <div class="day-header">
            <span class="day-name">{{ day.dayName }}</span>
            <div class="date-info">
              <span class="day-number">{{ day.dayNumber }}</span>
              <span class="day-month">{{ day.month }}</span>
            </div>
          </div>
          
          <div class="meal-slots">
            <div 
              *ngFor="let meal of mealSlots" 
              class="meal-slot"
              [class.weekend-meal]="day.isWeekend"
              [class.selected]="isMealSlotSelected(day.date, meal.type)"
              [class.has-recipe]="getRecipeForMealSlot(day.date, meal.type)"
              [class.drag-over]="isMealSlotDragOver(meal.type, day.date)"
              (dragover)="onDragOver($event, meal.type, day.date)"
              (dragleave)="onDragLeave($event)"
              (drop)="onDrop($event, meal.type, day.date)">
              <div class="meal-label">
                {{ meal.label }}
              </div>
              <div 
                class="meal-placeholder"
                [class.drop-zone]="true">
                <small 
                  *ngIf="!getRecipeForMealSlot(day.date, meal.type)" 
                  class="text-muted">
                  Drop recipe here
                </small>
                <div 
                  *ngIf="getRecipeForMealSlot(day.date, meal.type)" 
                  class="recipe-title-container">
                  <small class="recipe-title">
                    {{ getRecipeForMealSlot(day.date, meal.type) }}
                  </small>
                  <div class="serving-count-container">
                    <select 
                      class="serving-count-select" 
                      [value]="getServingCountForMealSlot(day.date, meal.type)"
                      (change)="updateServingCount(day.date, meal.type, $event)"
                      title="Number of people">
                      <option *ngFor="let count of servingCountOptions" [value]="count">{{ count }}</option>
                    </select>
                  </div>
                  <button 
                    type="button"
                    class="btn-remove-recipe"
                    (click)="removeRecipeFromSlot(meal.type, day.date)"
                    title="Remove recipe">
                    <i class="fas fa-times"></i>
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
