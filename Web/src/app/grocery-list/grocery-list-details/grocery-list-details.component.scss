.grocery-list-details-container {
  min-height: 100vh;
  background-color: white;
  padding: 0.5rem 0.25rem;

  @media (max-width: 450px) {
    padding: 0.25rem 0.125rem;
  }
}

.grocery-list-details-content {
  max-width: 1200px;
  margin: 0 auto;
}

// Loading and Error States
.loading-state, .error-state {
  text-align: center;
  padding: 3rem 1rem;
  
  .spinner {
    width: 40px;
    height: 40px;
    border: 4px solid #f3f3f3;
    border-top: 4px solid #007bff;
    border-radius: 50%;
    animation: spin 1s linear infinite;
    margin: 0 auto 1rem;
  }
  
  .error-icon {
    font-size: 3rem;
    margin-bottom: 1rem;
  }
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

// Section Styling
.section-title {
  color: #2c3e50;
  font-weight: 600;
  margin-bottom: 1rem;
  padding-bottom: 0.25rem;
  border-bottom: 2px solid #e9ecef;
  display: flex;
  align-items: center;
  
  .ingredient-count {
    font-size: 0.9rem;
    font-weight: 400;
    color: #6c757d;
    margin-left: 0.5rem;
  }
}

// Primary color for Planned Meals and Shopping List sections
.meals-overview-section .section-title,
.shopping-list-section .section-title {
  color: var(--color-primary-500) !important;
  border-bottom-color: var(--color-primary-200) !important;
}

// State icon colors for other sections
.basket-section .section-title {
  color: #ffc107 !important;
  border-bottom-color: #ffeaa7 !important;
}

.online-section .section-title {
  color: #17a2b8 !important;
  border-bottom-color: #b3e5fc !important;
}

.stock-section .section-title {
  color: #28a745 !important;
  border-bottom-color: #c3e6cb !important;
}

// Meals Overview Section - Match grocery list styling
.meals-overview-section {
  padding: 0.25rem;
  margin-bottom: 0.5rem;
  
  .meals-overview {
    .meals-list-compact {
      display: flex;
      flex-direction: column;
      gap: 0.25rem;
      
      .meal-item-row {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 0.25rem 0;
        
        .meal-name {
          font-size: 0.85rem;
          color: #495057;
          font-weight: 500;
          flex: 1;
        }
        
        .meal-type-badge {
          font-size: 0.8em;
          padding: 0.35em 0.65em;
        }
      }
    }
  }
}

// Ingredients Section - Compact styling
.ingredients-section {
  padding: 0.5rem;
  
  .empty-ingredients {
    text-align: center;
    padding: 1.5rem;
    color: #6c757d;
    
    .empty-icon {
      font-size: 3rem;
      margin-bottom: 1rem;
    }
  }
  
  // New status-based sections
  .ingredients-by-status {
    .status-section {
      margin-bottom: 1.5rem;
      
      &:last-child {
        margin-bottom: 0;
      }
      
      .status-section-title {
        color: #2c3e50;
        font-weight: 600;
        font-size: 1.1rem;
        margin-bottom: 0.75rem;
        padding: 0.5rem 0.75rem;
        background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
        border-radius: 6px;
        border-left: 4px solid #007bff;
        display: flex;
        align-items: center;
        
        .ingredient-count {
          font-size: 0.9rem;
          font-weight: 400;
          color: #6c757d;
          margin-left: 0.5rem;
        }
        
        &.on-list-section {
          border-left-color: #6c757d;
        }
        
        &.add-to-cart-section {
          border-left-color: #ffc107;
        }
        
        &.online-section {
          border-left-color: #17a2b8;
        }
      }
      
      .empty-status-section {
        text-align: center;
        padding: 1rem;
        color: #6c757d;
        font-style: italic;
        background: #f8f9fa;
        border-radius: 4px;
        border: 1px dashed #dee2e6;
      }
    }
  }
  
  .ingredients-grouped .ingredient-type-group {
    margin-bottom: 0.5rem;
    
    &:last-child { margin-bottom: 0; }
    
    .type-header {
      margin-bottom: 0.25rem;
      padding-bottom: 0.1rem;
      border-bottom: 1px solid #e9ecef;
      
      .type-title {
        font-size: 0.9rem;
        font-weight: 600;
        color: #6c757d;
        margin: 0;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }
    }
  }
  
  .ingredients-list-compact {
      .ingredient-item-compact {
        background: white;
        border: none;
        border-radius: 3px;
        padding: 0.3rem 0.4rem;
        margin-bottom: 0.15rem;
        transition: all 0.3s ease;
        
        &:last-child {
          margin-bottom: 0;
        }
        
        // Completed ingredient styling (add to cart and bought online)
        &.ingredient-completed {
          opacity: 0.7;
          
          .ingredient-main-compact {
            .ingredient-info {
              .ingredient-name-compact,
              .ingredient-amount-compact {
                text-decoration: line-through;
                color: #6c757d;
              }
            }
          }
          
          // Add to Cart completed styling
          &.add-to-cart-completed {
            background: #fff3cd;
            border-color: #ffeaa7;
          }
          
          // Bought Online completed styling
          &.bought-online-completed {
            background: #e8f5e8;
            border-color: #c3e6c3;
          }
          
          // In Stock completed styling
          &.in-stock-completed {
            background: #d4edda;
            border-color: #c3e6cb;
          }
        }
      
      .ingredient-main-compact {
        display: flex;
        justify-content: space-between;
        align-items: center;
        
        .ingredient-info {
          flex: 1;
          min-width: 0;
          display: flex;
          align-items: center;
          gap: 0.5rem;
          
          .ingredient-name-compact {
            font-weight: 500;
            font-size: 0.85rem;
            color: #2c3e50;
          }
          
          .ingredient-amount-compact {
            font-weight: 400;
            color: #6c757d;
            font-size: 0.8rem;
          }
        }
        
        .ingredient-state-buttons {
          display: flex;
          align-items: center;
          gap: 0.5rem;
          
          // Choice buttons for On List state
          .choice-buttons {
            display: flex;
            align-items: center;
            gap: 0.4rem;
            
            .choice-btn {
              width: 32px;
              height: 32px;
              padding: 0;
              border: 2px solid #dee2e6;
              border-radius: 50%;
              display: flex;
              align-items: center;
              justify-content: center;
              transition: all 0.3s ease;
              font-size: 0.8rem;
              cursor: pointer;
              
              &.add-to-cart-btn {
                background-color: #f8f9fa;
                color: #ffc107;
                border-color: #ffc107;
                
                &:hover {
                  background-color: #ffc107;
                  color: #212529;
                  transform: scale(1.1);
                }
              }
              
              &.bought-online-btn {
                background-color: #f8f9fa;
                color: #17a2b8;
                border-color: #17a2b8;
                
                &:hover {
                  background-color: #17a2b8;
                  color: white;
                  transform: scale(1.1);
                }
              }
              
              &.in-stock-btn {
                background-color: #f8f9fa;
                color: #28a745;
                border-color: #28a745;
                
                &:hover {
                  background-color: #28a745;
                  color: white;
                  transform: scale(1.1);
                }
              }
            }
          }
          
          // Single button for Add to Cart and Bought Online states
          .single-button {
            .state-btn {
              width: 36px;
              height: 36px;
              padding: 0;
              border: 2px solid #dee2e6;
              border-radius: 50%;
              display: flex;
              align-items: center;
              justify-content: center;
              transition: all 0.3s ease;
              font-size: 0.9rem;
              cursor: pointer;
              
              &.state-add-to-cart {
                background-color: #f8f9fa;
                color: #6c757d;
                border-color: #6c757d;
                
                &.active, &:hover {
                  background-color: #6c757d;
                  color: white;
                  transform: scale(1.1);
                  box-shadow: 0 0 0 2px rgba(108, 117, 125, 0.25);
                }
              }
              
              &.state-bought-online {
                background-color: #f8f9fa;
                color: #6c757d;
                border-color: #6c757d;
                
                &.active, &:hover {
                  background-color: #6c757d;
                  color: white;
                  transform: scale(1.1);
                  box-shadow: 0 0 0 2px rgba(108, 117, 125, 0.25);
                }
              }
              
              &.state-in-stock {
                background-color: #f8f9fa;
                color: #6c757d;
                border-color: #6c757d;
                
                &.active, &:hover {
                  background-color: #6c757d;
                  color: white;
                  transform: scale(1.1);
                  box-shadow: 0 0 0 2px rgba(108, 117, 125, 0.25);
                }
              }
            }
          }
        }
      }
    }
  }
}


// Responsive Design
@media (max-width: 768px) {
  .grocery-list-details-container {
    padding: 0.5rem 0.25rem;
  }
  
  .meals-overview-section,
  .ingredients-section {
    padding: 0.5rem;
  }
  
  .ingredients-grouped .ingredient-type-group .type-header {
    .type-title {
      font-size: 0.8rem;
    }
  }
  
  .ingredient-item-compact {
      .ingredient-main-compact {
        .ingredient-info {
          gap: 0.4rem;
        }
      
        .ingredient-state-buttons {
          gap: 0.3rem;
          
          .choice-buttons {
            gap: 0.25rem;
            
            .choice-btn {
              width: 28px;
              height: 28px;
              font-size: 0.7rem;
            }
          }
          
          .single-button .state-btn {
            width: 32px;
            height: 32px;
            font-size: 0.8rem;
          }
        }
    }
  }
}

@media (max-width: 450px) {
  .grocery-list-details-content {
    padding: 0;
  }
  
  .meals-overview-section,
  .ingredients-section {
    border-radius: 8px;
    padding: 0.5rem;
  }
  
  .section-title {
    font-size: 1.2rem;
  }
  
  .day-group {
    .day-header {
      padding: 0.5rem 0.75rem;
      
      .day-label {
        font-size: 1rem;
      }
    }
    
    .meals-list {
      .meal-item {
        padding: 0.75rem;
        
        .meal-info {
          flex-direction: column;
          align-items: flex-start;
          gap: 0.5rem;
        }
      }
    }
  }
  
  .ingredients-list-compact {
    .ingredient-item-compact {
      padding: 0.25rem 0.4rem;
      
      .ingredient-main-compact {
        .ingredient-info {
          gap: 0.3rem;
          
          .ingredient-name-compact {
            font-size: 0.8rem;
          }
          
          .ingredient-amount-compact {
            font-size: 0.75rem;
          }
        }
        
        .ingredient-state-buttons {
          gap: 0.25rem;
          
          .choice-buttons {
            gap: 0.2rem;
            
            .choice-btn {
              width: 26px;
              height: 26px;
              font-size: 0.65rem;
            }
          }
          
          .single-button .state-btn {
            width: 30px;
            height: 30px;
            font-size: 0.75rem;
          }
        }
      }
    }
  }
}
