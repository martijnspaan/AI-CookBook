apiVersion: v1
kind: ConfigMap
metadata:
  name: ai-cookbook-config-test
  namespace: ai-cookbook-test
  labels:
    app.kubernetes.io/name: ai-cookbook
    app.kubernetes.io/part-of: ai-cookbook
    app.kubernetes.io/version: "1.0.0"
    app.kubernetes.io/managed-by: kubectl
    app.kubernetes.io/component: config
    app.kubernetes.io/environment: test
  annotations:
    config.kubernetes.io/test-config: "true"
    description: "AI Cookbook test environment application configuration"
data:
  # API Configuration
  API_TITLE: "AI Cookbook API - Test"
  API_VERSION: "v1"
  API_DESCRIPTION: "A minimal API for the AI Cookbook project - Test Environment"
  API_CONTACT_NAME: "AI Cookbook Team"
  API_CONTACT_EMAIL: "contact@aicookbook.com"
  
  # CORS Configuration - Test environment with unified ACI access (shared IP)
  CORS_ALLOWED_ORIGINS: "http://20.56.205.169,http://20.56.205.169:4201,http://localhost:4200,http://localhost:3000,http://localhost:8080,http://localhost:4201"
  CORS_ALLOWED_METHODS: "GET,POST,PUT,DELETE,OPTIONS"
  CORS_ALLOWED_HEADERS: "Content-Type,Authorization,X-Requested-With,Accept,Origin"
  CORS_ALLOW_CREDENTIALS: "true"
  CORS_MAX_AGE: "3600"
  
  # Swagger Configuration
  SWAGGER_ENABLED: "true"
  SWAGGER_ROUTE_PREFIX: ""
  SWAGGER_DOCUMENT_TITLE: "AI Cookbook API Documentation - Test"
  
  # Recipes Configuration
  RECIPES_PATH: "recipes"
  
  # CosmosDB Configuration - Test environment
  COSMOSDB_DATABASE_NAME: "CookBook"
  COSMOSDB_CONTAINER_NAME: "Recipes"
  COSMOSDB_WEEK_MENU_CONTAINER_NAME: "WeekMenu"
  COSMOSDB_COOKBOOK_CONTAINER_NAME: "Cookbooks"
  COSMOSDB_GROCERY_LIST_CONTAINER_NAME: "GroceryLists"
  COSMOSDB_PARTITION_KEY_PATH: "/id"
  COSMOSDB_THROUGHPUT: "400"
  COSMOSDB_CREATE_IF_NOT_EXISTS: "true"
  
  # Health Check Configuration
  HEALTH_CHECK_ENABLED: "true"
  HEALTH_CHECK_PATH: "/health"
  HEALTH_CHECK_INTERVAL: "30s"
  
  # Logging Configuration - More verbose for test
  LOG_LEVEL: "Debug"
  LOG_FORMAT: "json"
  
  # Test Environment Specific
  ASPNETCORE_ENVIRONMENT: "Test"
  ASPNETCORE_URLS: "http://+:4201"
